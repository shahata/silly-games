import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */var u=16,r=4,o=4;class f{_value;possibilities;constructor(t){this.value=t||void 0}set value(t){this._value=t,this.possibilities=[]}get value(){return this._value}}function a(n){return t=>t.possibilities.indexOf(n)>-1}function p(n){return t=>t.value===n}class c{code;cells;$timeout;constructor(t){this.$timeout=t,this.restart()}restart(){function t(e){return new f(e)}this.code="code is generated when you click the solve button",this.cells=[];for(let e=0;e<u;e++){let s=[];for(let i=0;i<u;i++)s.push(t());this.cells.push(s)}this.cells=[[13,5,0,0,10,0,11,3,0,15,0,8,0,0,0,0],[16,0,0,0,0,0,0,9,0,0,13,0,0,6,0,0],[8,11,3,2,0,0,0,0,0,5,0,0,13,0,4,14],[0,0,6,10,0,15,0,0,0,0,0,14,0,2,0,0],[0,0,0,12,6,0,1,0,13,0,0,11,7,0,0,9],[6,2,16,1,0,0,5,0,0,0,0,9,3,0,0,15],[3,0,0,0,0,12,2,14,0,6,0,0,0,0,16,0],[7,0,0,0,11,3,0,8,0,0,0,0,14,10,0,2],[15,0,2,5,0,0,0,0,9,0,7,13,0,0,0,10],[0,4,0,0,0,0,6,0,12,1,14,0,0,0,0,13],[1,0,0,7,16,0,0,0,0,8,0,0,6,4,5,12],[9,0,0,13,2,0,0,7,0,11,0,4,16,0,0,0],[0,0,1,0,5,0,0,0,0,0,12,0,11,8,0,0],[2,12,0,11,0,0,14,0,0,0,0,0,15,1,13,6],[0,0,9,0,0,8,0,0,6,0,0,0,0,0,0,16],[0,0,0,0,15,0,4,0,8,14,0,7,0,0,9,5]],this.cells=this.cells.map(e=>e.map(t)),this.result=null,this.showPopup=!1}dismissPopup(){this.showPopup=!1}generateCode(){function t(s,i,l){return s>0&&s%i===0?l:""}function e(s,i,l){let h=s+"";return(i+"").replace(/./g,l).slice(h.length)+h}return`this.cells = [
`+this.cells.map((s,i)=>t(i,o,`
`)+"  ["+s.map((l,h)=>`${t(h,r,"/**/ ")}${e(l.value||"0",u," ")}`).join(", ")+"]").join(`,
`)+`
];

`}getStyle(t,e){function s(i){return`border-${i}: solid var(--neon-accent) 3px; `}return(t%o===0?s("top"):"")+(t%o===o-1?s("bottom"):"")+(e%r===0?s("left"):"")+(e%r===r-1?s("right"):"")}getBox(t,e){let s=[];t-=t%o,e-=e%r;for(let i=0;i<o;i++)s=s.concat(this.cells[t+i].slice(e,e+r));return s}getRow(t){return this.cells[t]}getCol(t){return this.cells.map(e=>e[t])}getAll(){return this.cells.reduce((t,e)=>t.concat(e),[])}someUnsolvedCell(t){return this.cells.some((e,s)=>e.some((i,l)=>!i.value&&t(i,s,l)))}forEachUnsolvedCell(t){this.cells.forEach((e,s)=>{e.forEach((i,l)=>{i.value||t(i,s,l)})})}isInRow(t,e){return this.getRow(t).filter(p(e)).length>0}isInCol(t,e){return this.getCol(t).filter(p(e)).length>0}isInBox(t,e,s){return this.getBox(t,e).filter(p(s)).length>0}otherOptionInRow(t,e){return this.getRow(t).filter(a(e)).length>1}otherOptionInCol(t,e){return this.getCol(t).filter(a(e)).length>1}otherOptionInBox(t,e,s){return this.getBox(t,e).filter(a(s)).length>1}getPossibleValues(t,e){let s=[];for(let i=1;i<=u;i++)!this.isInRow(t,i)&&!this.isInCol(e,i)&&!this.isInBox(t,e,i)&&s.push(i);return s}otherOptionInTable(t,e,s){return this.otherOptionInRow(t,s)&&this.otherOptionInCol(e,s)&&this.otherOptionInBox(t,e,s)}solveByOnlyPossibility(){return this.someUnsolvedCell((t,e,s)=>{if(t.possibilities.length===1)return t.value=t.possibilities[0],!0})}solveByNoOtherOptionInTable(){return this.someUnsolvedCell((t,e,s)=>{let i=t.possibilities.filter(l=>!this.otherOptionInTable(e,s,l));if(i.length===1)return t.value=i[0],!0})}solve(t){t&&(this.code=this.generateCode()),this.forEachUnsolvedCell((e,s,i)=>{e.possibilities=this.getPossibleValues(s,i)}),this.solveByOnlyPossibility()||this.solveByNoOtherOptionInTable()?this.$timeout(()=>this.solve(),10):this.getAll().filter(e=>!e.value).length>0?this.$timeout(()=>{this.result="Stuck!",this.showPopup=!0},0):this.$timeout(()=>{this.result="Solved!",this.showPopup=!0},0)}}c.$inject=["$timeout"];angular.module("sodukuApp",[]).controller("MainController",c);
